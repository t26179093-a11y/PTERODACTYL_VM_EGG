{
    "_comment": "Egg: PteroVM Auto Manager (QEMU + Cloud Init)",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-10-25T00:00:00+02:00",
    "name": "PteroVM Auto Manager",
    "author": "chatgpt@openai",
    "description": "Erstellt und startet automatisch eine VM mit QEMU (Ubuntu/Debian). LÃ¤dt das Script von GitHub.",
    "features": null,
    "docker_images": {
        "ghcr.io/pterodactyl/yolks:debian": "ghcr.io/pterodactyl/yolks:debian"
    },
    "file_denylist": [],
    "startup": "bash auto_start.sh",
    "config": {
        "files": "{}",
        "startup": "{}",
        "logs": "{}",
        "stop": "exit"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\n# === PteroVM Auto Installer ===\ncd /mnt/server\napt update -y\nDEBIAN_FRONTEND=noninteractive apt install -y qemu-system-x86 qemu-utils cloud-image-utils curl wget\n\n# Lade VM Script von GitHub\ncurl -L https://raw.githubusercontent.com/DEIN_GITHUB_USER/DEIN_REPO/main/vm.sh -o vm.sh\nchmod +x vm.sh\n\n# Erstelle Auto-Starter Script\ncat > auto_start.sh <<'EOF'\n#!/bin/bash\ncd /mnt/server\n\nVM_NAME=\"${VM_NAME:-auto}\"\nOS_CHOICE=\"${OS_CHOICE:-1}\"\nRAM=\"${RAM:-2048}\"\nCPU=\"${CPU:-2}\"\nDISK=\"${DISK:-20}\"\nEXTRA=\"${EXTRA:-0}\"\nPASSWD=\"${PASSWD:-test123}\"\nSTART_MODE=\"${START_MODE:---web}\"\n\n# PrÃ¼fen, ob die VM schon existiert\nif [ ! -d \"/root/vms/$VM_NAME\" ]; then\n  echo \"ğŸ§  Erstelle neue VM $VM_NAME...\"\n  bash vm.sh create <<INPUT\n$VM_NAME\n$OS_CHOICE\n$RAM\n$CPU\n$DISK\n$EXTRA\n$PASSWD\nINPUT\nfi\n\n# Starte die VM automatisch\nbash vm.sh start \"$VM_NAME\" \"$START_MODE\"\nEOF\n\nchmod +x auto_start.sh\n\necho \"âœ… Installation abgeschlossen. Die VM wird beim Start automatisch erstellt und gestartet.\"\n",
            "container": "ghcr.io/pterodactyl/installers:debian",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "VM_NAME",
            "description": "Name der virtuellen Maschine",
            "env_variable": "VM_NAME",
            "default_value": "ptero-vm",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:50"
        },
        {
            "name": "OS_CHOICE",
            "description": "1=Ubuntu22.04, 2=Ubuntu24.04, 3=Debian11, 4=Debian12, 5=Debian13",
            "env_variable": "OS_CHOICE",
            "default_value": "2",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:1|max:5"
        },
        {
            "name": "RAM",
            "description": "RAM in MB",
            "env_variable": "RAM",
            "default_value": "4096",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:256"
        },
        {
            "name": "CPU",
            "description": "CPU-Kerne",
            "env_variable": "CPU",
            "default_value": "2",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:1"
        },
        {
            "name": "DISK",
            "description": "DiskgrÃ¶ÃŸe in GB",
            "env_variable": "DISK",
            "default_value": "20",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:1"
        },
        {
            "name": "EXTRA",
            "description": "Extra Disk (GB)",
            "env_variable": "EXTRA",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "integer|min:0"
        },
        {
            "name": "PASSWD",
            "description": "Root Passwort fÃ¼r die VM",
            "env_variable": "PASSWD",
            "default_value": "test123",
            "user_viewable": true,
            "user_editable": true,
            "rules": "string|max:50"
        },
        {
            "name": "START_MODE",
            "description": "Startmodus (--web fÃ¼r sshx.io oder leer fÃ¼r Konsole)",
            "env_variable": "START_MODE",
            "default_value": "--web",
            "user_viewable": true,
            "user_editable": true,
            "rules": "string|max:10"
        }
    ]
}

